{% extends 'base.html.twig' %}

{% block title %}Hello ArticleController!
{% endblock %}

{% block body %}
	<div class="container">

		<div class="container--article">

			<h2>{{ articles.title}}</h2>
			<a href="{{path('app_view_articles', {slug: articles.slug}) }}" class="container--article__link">
				<img src="{{ vich_uploader_asset(articles) }}" alt="{{ articles.title }}">
			</a>
			<p>{{ articles.content| raw}}</p>


			<span class="container--article__infos">
				<span class="container--article__author">
					par
					{% if articles.author.pseudo %}
						{{articles.author.pseudo | capitalize}}
					{% else %}
						{{articles.author.firstName | capitalize}}
						{{articles.author.lastName | slice(0,1) | capitalize}}.
					{% endif %}
				</span>
				<span class="container--article__actions">
					{% if is_granted("ROLE_USER") %}
						<a href="{{path('app_add_articles')}}" class="button--edit">Modifier</a>
						<a href="{{path('app_add_articles')}}" class="button--delete">Supprimer</a>
					{% endif %}
				</span>
			</span>
		</div>
		{{form(createComment)}}
		</div>
		{% if is_granted("ROLE_USER") %}
			<a href="{{path('app_add_articles')}}" class="button__add">+</a>
		{% endif %}

	{% endblock %}
